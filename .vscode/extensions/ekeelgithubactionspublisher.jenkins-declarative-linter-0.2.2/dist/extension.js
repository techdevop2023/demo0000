(()=>{"use strict";var e={496:e=>{e.exports=require("vscode")},81:e=>{e.exports=require("child_process")},37:e=>{e.exports=require("os")}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}var n={};(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=r(496),i=r(37),a=r(81);e.activate=function(e){const r=t.window.createOutputChannel("JDL");r.clear();const n=t.workspace.getConfiguration("jenkins-declarative-linter");let s=t.commands.registerCommand("jenkins-declarative-linter.hello",(()=>{t.window.showInformationMessage("Hello World from jenkins-declarative-linter!")})),o=t.commands.registerCommand("jenkins-declarative-linter.lint",(()=>{let e=t.window.activeTextEditor;if(!e)return;e.document.getText();let s=e.document.fileName,o="";String(n.get("key"))?o+=`ssh -i ${String(n.get("key"))} -p ${String(n.get("port"))} ${String(n.get("user"))}@${String(n.get("url"))} declarative-linter`:o+=`ssh -p ${String(n.get("port"))} ${String(n.get("user"))}@${String(n.get("url"))} declarative-linter`;let l="bash";switch(i.platform()){case"win32":o=`Get-Content '${s}' | ${o}`,l="powershell";break;case"darwin":case"linux":o+=` < '${s}'`,l="bash"}switch(r.show(),r.appendLine(`[INFO] Validating ${s}`),l){case"powershell":a.exec(`powershell -Command "&{${o}}"`,((e,t,n)=>{t&&r.appendLine(`[INFO] ${t}`),n&&r.appendLine(`[ERROR] ${n}`),e&&r.appendLine(`[ERROR] ${e.message}`)}));break;case"bash":a.exec(`bash ${o}`,((e,t,n)=>{t&&r.appendLine(`[INFO] ${t}`),n&&r.appendLine(`[ERROR] ${n}`),e&&r.appendLine(`[ERROR] ${e.message}`)}))}}));e.subscriptions.push(s,o)},e.deactivate=function(){}})(),module.exports=n})();